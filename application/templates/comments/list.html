{% extends "layout.html" %}

{% block body %}
  <table>
    <tr>
      <th>Winner</th>
      <th>Opponent</th>
      <th>Date</th>
      <th>Score</th>
      <th>Event</th>
    </tr>
    {% for match in matches %}
    <tr>
      <td>{{ match.winner }}</td>
      <td>{{ match.opponent }}</td>
      <td>{{ match.date_when }}</td>
      <td>{{ match.score }}</td>
      <td>{{ match.event }}</td>
      <td>
          <form method="POST" action="{{ url_for('comments_create', matchID=match.id) }}">
              <table>
                <tr>
                  <td>
                    {{ form.content.label }}
                  </td>
                  <td>
                    {{ form.content }}
                  </td>
                  <td>
                    <ul>
                      {% for error in form.content.errors %}
                      <li>{{ error }}</li>
                      {% endfor %}
                    </ul>
                  </td>
                </tr>
                <tr>
                  <td colspan="3">
                    <input type="submit" value="Add a new comment"/>
                  </td>
                </tr>
              </table>
            </form>
      </td>
    </tr>
    {% endfor %}
  </table>
  <table>
    {% for comment in comments %}
    <tr>
      <td><b>{{ comment.name }}</b></td>
      <td>{{ comment.content }}</td>
    </tr>
    {% endfor %}
  </table>
{% endblock %}